总操作流程：
- 1、项目上传
- 2、配置
- 3、测试

***

# 项目上传

```shell
mkdir -p /usr/local/nginx/go
chmod 777 /usr/local/nginx/go

# 项目上传go项目
cd /usr/local/nginx/go

chmod 777 /usr/local/nginx/go/test
```

# 配置

- [CentOS7安装nginx](https://github.com/OurNotes/CCN/blob/master/04.linux/04.CentOS7.6/10.CentOS7.6%E4%B9%8B%E5%AE%89%E8%A3%85nginx.md)

- 加多一个server
```js
    server {
        listen       81;
        server_name  localhost;

        charset utf-8;
        access_log  /usr/local/nginx/logs/access.log;

        location ~ \.(css|js|fonts|png|svg|html|txt)$ {
            access_log on;
            expires 1d;
            
            root "/usr/local/nginx/go";
            try_files $uri @backend;
        }

        location / {
            try_files /_not_exists_ @backend;
        }

        location @backend {
            proxy_set_header X-Forwarded-For $remote_addr;
            proxy_set_header Host            $http_host;
            proxy_pass http://127.0.0.1:8080;
        }
    }

```

> 2、防火墙配置

```
firewall-cmd --permanent --zone=public --add-port=81/tcp
firewall-cmd --permanent --zone=public --add-port=8080/tcp
firewall-cmd --reload
```

# 测试

> 1、开启服务器

```shell
cd ~

cd /usr/local/nginx/sbin

# 开启
./nginx

# 停止
./nginx -s stop
```

> 2、后台运行go程序

```shell
cd /usr/local/nginx/go
nohup ./test >log.txt 
```

> 使用postman测试接口：http://192.168.42.128:81/ping
